import{j as e,M as h}from"./markdown-renderer.CGQyWCbt.js";import{r as o}from"./index.WFquGv8Z.js";const b=l=>(l??"").trim().toLowerCase(),E=({projects:l,experienceRole:p,highlightedSkills:c=[],showDetails:f=!1})=>{const[g,u]=o.useState(new Set),[k,w]=o.useState(new Set),y=o.useMemo(()=>b(p),[p]),x=o.useMemo(()=>{if(c.length===0)return new Set;const s=new Set(c.map(d=>d.trim().toLowerCase()).filter(Boolean)),a=new Set;let i=0;for(const d of l){for(const t of d.skills??[]){const r=t.trim().toLowerCase();if(s.has(r)){a.add(i);break}}i+=1}return a},[c,l]),j=s=>{const a=x.has(s)&&!k.has(s),i=g.has(s);a||i?(u(t=>{const r=new Set(t);return r.delete(s),r}),a&&w(t=>new Set(t).add(s))):(u(t=>new Set(t).add(s)),w(t=>{if(!t.has(s))return t;const r=new Set(t);return r.delete(s),r}))};if(l.length!==0)return e.jsxs(o.Fragment,{children:[e.jsx("h2",{className:"text-base font-semibold mt-4 mb-2",children:"Projects"}),e.jsx("section",{className:"text-left",children:e.jsx("div",{className:"pl-0 sm:pl-1",children:e.jsx("ul",{className:"space-y-4",children:l.map((s,a)=>{const d=x.has(a)&&!k.has(a)||g.has(a),t=b(s.role),r=t.length>0&&t!==y,m=x.has(a);return e.jsxs("li",{className:`rounded-2xl border border-slate-200/60 bg-white/90 p-4 shadow-sm transition-colors dark:border-slate-800/60 dark:bg-slate-900/60 ${m?"ring-1 ring-teal-300/60 dark:ring-teal-500/40":"hover:border-teal-200/60 dark:hover:border-teal-500/30"}`,children:[e.jsx("button",{type:"button",onClick:()=>j(a),className:`btn-link mt-1 w-full bg-transparent border-none text-left ${m?"text-teal-600 dark:text-teal-300":""}`,children:e.jsxs("div",{className:"flex flex-wrap items-baseline gap-2 min-w-0 text-left",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-800 dark:text-gray-100 truncate",children:s.name}),r&&e.jsxs(o.Fragment,{children:[e.jsx("span",{"aria-hidden":"true",className:"text-xs text-gray-400 dark:text-gray-500 shrink-0 whitespace-nowrap",children:"Â·"}),e.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-400 shrink-0 whitespace-nowrap",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-500",children:"Role:"})," ",s.role]})]})]})}),e.jsxs("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${d?"max-h-screen mt-3":"max-h-0"}`,children:[e.jsx("div",{className:`rounded-xl border border-slate-100/60 bg-white/80 p-4 dark:border-slate-800/50 dark:bg-slate-900/40 ${m?"shadow-inner shadow-teal-500/10":""}`,children:e.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:e.jsx(h,{content:s.description})})}),f&&e.jsxs("div",{className:"mt-4 space-y-4",children:[(s.skills?.length??0)>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-500 dark:text-gray-400",children:"Skills"}),e.jsx("div",{className:"mt-1 flex flex-wrap gap-1.5",children:[...new Set((s.skills??[]).map(n=>n.trim()).filter(n=>n.length>0))].map(n=>e.jsx("span",{className:"rounded-full border border-teal-200/60 px-2 py-0.5 text-xs text-teal-700 dark:border-teal-700/60 dark:text-teal-200",children:n},n))})]}),(s.achievements?.length??0)>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-500 dark:text-gray-400",children:"Key achievements"}),e.jsx("ul",{className:"mt-1 list-disc pl-5 text-sm text-gray-700 dark:text-gray-200",children:(s.achievements??[]).map((n,N)=>e.jsx("li",{children:e.jsx(h,{content:n})},N))})]}),s.impact&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-gray-500 dark:text-gray-400",children:"Impact"}),e.jsx("div",{className:"mt-1 prose prose-sm dark:prose-invert max-w-none",children:e.jsx(h,{content:s.impact})})]})]})]})]},a)})})})})]})};export{E as R};
